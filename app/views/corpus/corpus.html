<!-- Header -->
<div ng-include="'partials/header.html'"></div>
<!-- Content -->
<div ng-class="['row', 'content', 'full-height', 'corpus']">
    <div ng-class="['col-md-5', 'no-gutter', 'full-height']">
        <div ng-class="['presentation']">
            <div ng-class="['title']">
                <h2 ng-class="['no-gutter']">{{corpora.title}}</h2>
            </div>
            <div ng-class="['subtitle']">
                <h3 ng-class="['no-gutter']">{{corpora.subtitle}}</h2>
            </div>
            <div ng-class="['read-more']">Read more ...</div>
        </div>
        <div ng-class="['graph']">
            <div id="graph"></div>
            <div ng-class="['sigma-tools']">
                <div ng-class="['btn-group-vertical']">
                    <button type="button" ng-class="['btn', 'btn-link', 'btn-xs']" ng-click="sigmaCenter();" tooltip-placement="right" tooltip="Center">
                        <span ng-class="['glyphicon', 'glyphicon-record']"></span>
                    </button>
                    <button type="button" ng-class="['btn', 'btn-link', 'btn-xs']" ng-click="sigmaZoom();" tooltip-placement="right" tooltip="Zoom">
                        <span ng-class="['glyphicon', 'glyphicon-plus']"></span>
                    </button>
                    <button type="button" ng-class="['btn', 'btn-link', 'btn-xs']" ng-click="sigmaUnzoom();" tooltip-placement="right" tooltip="Unzoom">
                        <span ng-class="['glyphicon', 'glyphicon-minus']"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div ng-class="['col-md-7', 'no-gutter', 'full-height']">
        <div ng-class="['filters']">
            <div ng-class="['row', 'col-md-offset-3', 'col-md-6', 'search-bar']">
                <md-input-container md-no-float>
                    <span ng-class="['glyphicon', 'glyphicon-search', 'icon-flip-horizontal']" aria-hidden="true"></span>
                    <span><input ng-model="queryTerm" type="text" placeholder="What are you looking for ?" ng-change="filter();" ng-class="['full-width']"/></span>
                </md-input-container>
            </div>
            <div ng-class="['no-gutter', 'facets']">
                <!-- The first label is always shown -->
                <div ng-class="['row', 'no-gutter']">
                    <div ng-repeat="category in categories" ng-class="['advanced-search']">
                        <div ng-attr-collapse="{{ $index != 0 ? 'isCollapsed' : '' }}">
                            <label ng-class="['col-md-3', 'no-gutter', 'ellipsed']">{{category.label}}</label>
                            <div ng-class="['col-md-9', 'no-gutter']">
                                <div ng-repeat="value in category.values | limitTo:quantity" ng-class="['checkbox-inline', 'col-md-3', 'category-value', 'no-gutter', 'ellipsed']">
                                    <input id="{{value.id}}" type="checkbox" name="{{category.id}}" ng-model="value.isSelected" ng-change="filter(category.id, value.id);" />
                                    <span ng-class="['category-name']">{{value.label}} </span>
                                    <span ng-class="['category-count']"><em>({{value.count}})</em></span>
                                </div>
                            </div>
                            <div class="separator" ng-if="!isCollapsed" />
                        </div>
                    </div>
                </div>
            </div>
            <div ng-class="['search-bottom']">
                <div ng-class="['pull-left', 'results-number']">
                    <ng-pluralize count="resultsNumber" when="{'0': 'No result found', '1': '1 result found', 'other': '{} results found'}"></ng-pluralize>
                </div>
                <div ng-class="['pull-right', 'more-filters']" ng-click="moreFilters()">{{filtersLabel}}</div>
            </div>
        </div>
        <div ng-class="['list']">
            <div ng-class="['full-height']">
                <div ng-class="['row', 'grid-list', 'no-gutter']" flex="">
                    <md-grid-list md-cols-sm="1" md-cols-md="3" md-cols-gt-md="3" md-row-height-gt-md="4:3" md-row-height="4:3" md-gutter="8px" md-gutter-gt-sm="10px">
                        <md-grid-tile id="{{result.ID}}" ng-repeat="result in displayedResults" md-rowspan="1" md-colspan="1" md-colspan-sm="1" ng-class="['gray']">
                            <a href="#/webentity/{{result.ID}}">
                                <img ng-class="['fit', 'grayscale']" src="http://www.robothumb.com/src/?url={{result.URL}}&size=320x240"></img>
                                <md-grid-tile-footer ng-class="['tile-footer']">
                                    <h3>{{result.FULL_NAME}}</h3>
                                    <p ng-class="['actors-type']">{{result.ACTORS_TYPE | translate:'actorsType'}}</p>
                                </md-grid-tile-footer>
                            </a>
                        </md-grid-tile>
                    </md-grid-list>
                </div>
            </div>
        </div>
    </div>
</div>